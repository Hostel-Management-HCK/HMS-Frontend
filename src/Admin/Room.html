<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hostel Stays</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="//cdn.datatables.net/2.0.5/css/dataTables.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="//cdn.datatables.net/2.0.5/js/dataTables.min.js"></script>
</head>

<body>
    <style>
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        .center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .center button {
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 600;
            color: #222;
            background: #f5f5f5;
            border: none;
            outline: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .popup {
            position: absolute;
            top: -150%;
            left: 50%;
            opacity: 0;
            transform: translate(-50%, -50%) scale(1.25);
            width: 500px;
            height: 425px;
            padding: 20px 30px;
            background: #fff;
            box-shadow: 2px 2px 5px 5px rgba(0, 0, 0, 0.15);
            border-radius: 10px;
            transition: top 0ms ease-in-out 200ms, opacity 200ms ease-in-out 0ms, transform 20ms ease-in-out 0ms;

        }

        .popup.active {
            top: 50%;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            transition: top 0ms ease-in-out 0ms, opacity 200ms ease-in-out 0ms, transform 20ms ease-in-out 0ms;
        }

        .popup .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 15px;
            height: 15px;
            background: #888;
            color: #eee;
            text-align: center;
            line-height: 15px;
            border-radius: 15px;
            cursor: pointer;
        }

        .popup .form h2 {
            text-align: center;
            color: #222;
            margin: 10px 0px 20px;
            font-size: 25px;
        }

        .popup .form .form-element {
            margin: 15px 0px;
        }

        .popup .form .form-element label {
            font-size: 14px;
            color: #222;
        }

        .popup .form .form-element input {
            margin-top: 5px;
            display: block;
            width: 100%;
            padding: 10px;
            outline: none;
            border: 1px solid #aaa;
            border-radius: 5px;
        }

        .popup .form .form-element button {
            width: 100%;
            height: 50px;
            border: none;
            outline: none;
            font-size: 16px;
            background: linear-gradient(to bottom, rgb(44, 44, 80), rgb(44, 44, 80));
            color: #ffffff;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .popup .form .form-element button:hover {
            background: linear-gradient(to bottom, rgb(44, 44, 80), rgb(44, 44, 80));
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .popup .form .form-element textarea {
            margin-top: 5px;
            display: block;
            width: 100%;
            padding: 10px;
            outline: none;
            border: 1px solid #aaa;
            border-radius: 5px;
            resize: vertical;
        }


        .button-container {
            text-align: center;
            margin-top: 20px;
        }

        .button-container button {
            display: inline-block;
            margin: 0 10px;
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(to bottom, rgb(44, 44, 80), rgb(44, 44, 80));
            border: none;
            outline: none;
            cursor: pointer;
            border-radius: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .button-container button:hover {
            background: linear-gradient(to bottom, rgb(44, 44, 80), rgb(44, 44, 80)7b838a);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .button-container button:hover {
            background: linear-gradient(to bottom, rgb(44, 44, 80), rgb(44, 44, 80)7b838a);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .delete-btn {
            padding: 5px 10px;
            background-color: #ff5c5c;
            /* Red color for delete button */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background-color: #d9534f;
            /* Darker red color on hover */
        }
    </style>
    <div class="container">
        <aside>

            <div class="top">
                <div class="logo">
                    <h2>Hostel <span class="danger">Stays</span> </h2>
                </div>
                <div class="close" id="close_btn">
                    <span class="material-symbols-sharp">
                        close
                    </span>
                </div>
            </div>
            <!-- Side bar -->
            <div class="sidebar">
                <a href="admin.html">
                    <span class="material-symbols-sharp">dashboard </span>
                    <h3>Dashboard</h3>
                </a>
                <a href="resident.html">
                    <span class="material-symbols-sharp">people </span>
                    <h3>Residents</h3>
                </a>
                <a href="staff.html">
                    <span class="material-symbols-sharp">group </span>
                    <h3>Staff</h3>
                </a>
                <a href="room.html">
                    <span class="material-symbols-sharp">hotel </span>
                    <h3>Rooms</h3>
                </a>
                <a href="room_allocation.html">
                    <span class="material-symbols-sharp">single_bed </span>
                    <h3>Allocation</h3>
                </a>
                <a href="billing.html">
                    <span class="material-symbols-sharp">payment </span>
                    <h3>Billing</h3>
                </a>
                <a href="maintenance.html">
                    <span class="material-symbols-sharp">build </span>
                    <h3>Maintenance</h3>
                </a>
                <a href="profile.html">
                    <span class="material-symbols-sharp">person </span>
                    <h3>Profile</h3>
                </a>
                <a href="Feedback.html">
                    <span class="material-symbols-sharp">forum </span>
                    <h3>Feedback</h3>
                </a>
                <a href="setting.html">
                    <span class="material-symbols-sharp">settings </span>
                    <h3>Settings</h3>
                </a>
                <a href="../index.html" id="logout-link">
                    <span class="material-symbols-sharp">logout </span>
                    <h3>logout</h3>
                </a>
        </aside>

        <!-- Dashboard -->
        <main>
            <!-- recent_feedbacks -->
            <div class="recent_feedbacks">
                <h2>Room Details</h2>
                <table id="RoomTable" class="table">
                    <thead>
                        <tr>
                            <th>Room ID</th>
                            <th>Price</th>
                            <th>Occupancy</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody id="roomTableBody">
                        <tr>
                            <td>101</td>
                            <td>John Doe</td>
                            <td>123-456-7890</td>
                            <td><button class="edit-btn" onclick="editDetails(101)">Edit</button></td>
                            <td><button class="delete-btn">Delete</button></td>
                        </tr>
                        <tr>
                            <td>205</td>
                            <td>Jane Smith</td>
                            <td>987-654-3210</td>
                            <td><button class="edit-btn" onclick="editDetails(205)">Edit</button></td>
                            <td><button class="delete-btn">Delete</button></td>
                        </tr>
                        <tr>
                            <td>310</td>
                            <td>Michael Johnson</td>
                            <td>456-789-0123</td>
                            <td><button class="edit-btn" onclick="editDetails(310)">Edit</button></td>
                            <td><button class="delete-btn">Delete</button></td>
                        </tr>
                        <tr>
                            <td>401</td>
                            <td>Emily Davis</td>
                            <td>789-012-3456</td>
                            <td><button class="edit-btn" onclick="editDetails(401)">Edit</button></td>
                            <td><button class="delete-btn">Delete</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="button-container">
                <button id="addRoom">Add Room</button>
            </div>
            <!-- Popup for Compose -->
            <div class="popup compose">
                <div class="close-btn">&times;</div>
                <div class="form">
                    <h2>Add Room</h2>
                    <div class="form-element">
                        <label for="roomPrice">Room Price:</label>
                        <input type="text" id="roomPrice" placeholder="Enter room price">
                    </div>
                    <div class="form-element">
                        <label for="roomOccupancy">Room Occupancy:</label>
                        <input type="text" id="roomOccupancy" placeholder="Enter room occupancy">
                    </div>
                    <div class="form-element">
                        <button id="sendButton">Send</button>
                    </div>
                </div>
            </div>

            <!-- Popup for Edit Details -->
            <div class="popup edit-details">
                <div class="close-btn">&times;</div>
                <div class="form">
                    <h2>Edit Details</h2>
                    <div class="form-element">
                        <label for="editRoomID">Room ID:</label>
                        <input type="text" id="editRoomID" readonly>
                    </div>
                    <div class="form-element">
                        <label for="editRoomPrice">Room Price:</label>
                        <input type="text" id="editRoomPrice" placeholder="Enter room price">
                    </div>
                    <div class="form-element">
                        <label for="editOccupancyStatus">Occupancy Status:</label>
                        <input type="text" id="editOccupancyStatus" placeholder="Enter occupancy status">
                    </div>
                    <div class="form-element">
                        <button id="saveRoomEdit">Save</button>
                    </div>
                </div>
            </div>

        </main>

        <!-- Profile -->
        <div class="right">

            <div class="top">
                <button id="menu_bar">
                    <span class="material-symbols-sharp">menu</span>
                </button>

                <div class="profile">
                    <div class="info">
                        <p><b>John</b></p>
                        <p>Admin</p>
                        <small class="text-muted"></small>
                    </div>
                    <div class="profile-photo">
                        <img src="../../images/profile-1.jpg" alt="" />
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Function to fill edit details popup with selected item's details
            function fillEditDetails(roomID, roomPrice, occupancyStatus) {
                // Populate the input fields in the edit details popup with the provided data
                document.getElementById("editRoomID").value = roomID;
                document.getElementById("editRoomPrice").value = roomPrice;
                document.getElementById("editOccupancyStatus").value = occupancyStatus;
            }

            // Add event listener to edit buttons in the table rows
            document.querySelectorAll(".edit-btn").forEach(function (editBtn) {
                editBtn.addEventListener("click", function () {
                    // Retrieve the room ID, room price, and occupancy status associated with the row
                    var row = editBtn.parentElement.parentElement;
                    var roomID = row.cells[0].textContent;
                    var roomPrice = row.cells[1].textContent; // Assuming room price is in the second column
                    var occupancyStatus = row.cells[2].textContent; // Assuming occupancy status is in the third column

                    // Fill edit details popup with selected item's details
                    fillEditDetails(roomID, roomPrice, occupancyStatus);

                    // Show the edit details popup
                    document.querySelector(".popup.edit-details").classList.add("active");
                });
            });
            // Close edit details popup when close button is clicked
            document.querySelector(".popup.edit-details .close-btn").addEventListener("click", function () {
                document.querySelector(".popup.edit-details.active").classList.remove("active");
            });

            // Show compose popup when the button is clicked
            document.querySelector("#addRoom").addEventListener("click", function () {
                document.querySelector(".popup.compose").classList.add("active");
            });

            // Close all popups when close buttons are clicked
            document.querySelectorAll(".popup .close-btn").forEach(function (closeBtn) {
                closeBtn.addEventListener("click", function () {
                    document.querySelector(".popup.active").classList.remove("active");
                });
            });

        </script>
        <script src="script.js"></script>
        <script src="./room.js"></script>
        <script src="../fetch.js"></script>

</body>

</html>